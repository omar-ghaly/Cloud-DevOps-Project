# Cloud-DevOps-Project

End-to-end Cloud DevOps Project covering Docker, Kubernetes, Terraform, Ansible, Jenkins, and ArgoCD.

![Docker](https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=docker&logoColor=white)
![Kubernetes](https://img.shields.io/badge/Kubernetes-326CE5?style=for-the-badge&logo=kubernetes&logoColor=white)
![AWS](https://img.shields.io/badge/AWS-232F3E?style=for-the-badge&logo=amazon-aws&logoColor=white)
![Terraform](https://img.shields.io/badge/Terraform-7B42BC?style=for-the-badge&logo=terraform&logoColor=white)

---

## üìã Table of Contents

- [Project Overview](#project-overview)
- [GitHub Repository Setup](#1-github-repository-setup)
- [Containerization with Docker](#2-containerization-with-docker)
- [Phase 1: Cluster Setup](#3-phase-1-cluster-setup)
- [Kubernetes Deployment](#4-kubernetes-namespace-deployment--service)
- [Access the Application](#access-the-application)
- [Technologies Used](#technologies-used)

---

## üéØ Project Overview

This project demonstrates a complete DevOps pipeline implementation using industry-standard tools and practices. It covers containerization, orchestration, infrastructure as code, configuration management, and CI/CD automation.

---

## 1. GitHub Repository Setup

- **Repository Name:** `CloudDevOpsProject`
- **Initialized with:** README
- **Repository URL:** [https://github.com/omar-ghaly/Cloud-DevOps-Project](https://github.com/omar-ghaly/Cloud-DevOps-Project)

---

## 2. Containerization with Docker

### Source Application
- **Original Source:** [FinalProject GitHub](https://github.com/Ibrahim-Adel15/FinalProject.git)
- Dockerfile created and committed to this repository

### Docker Image
- **DockerHub Repository:** `omarghalyy/cloud-devops-app:latest`
- **Pull Command:**
  ```bash
  docker pull omarghalyy/cloud-devops-app:latest
  ```

### Building the Image Locally
```bash
# Clone the repository
git clone https://github.com/omar-ghaly/Cloud-DevOps-Project.git
cd Cloud-DevOps-Project

# Build the Docker image
docker build -t omarghalyy/cloud-devops-app:latest .

# Push to DockerHub (requires authentication)
docker push omarghalyy/cloud-devops-app:latest
```

---

## 3. Phase 1: Cluster Setup

### Prerequisites

Before starting, ensure you have the following tools installed:

- AWS CLI
- eksctl
- kubectl
- SSH key pair for EC2 access

### AWS Environment Setup

1. **Install and Configure AWS CLI:**
   ```bash
   aws configure
   ```
   Enter your AWS Access Key ID, Secret Access Key, and preferred region.

2. **Install eksctl:**
   ```bash
   # For Linux
   curl --silent --location "https://github.com/weaveworks/eksctl/releases/latest/download/eksctl_$(uname -s)_amd64.tar.gz" | tar xz -C /tmp
   sudo mv /tmp/eksctl /usr/local/bin
   ```

3. **Generate SSH Key:**
   ```bash
   ssh-keygen -t rsa -b 4096 -f ~/.ssh/omar-key
   ```

### EKS Cluster Creation

**Cluster Configuration:**
- **Cluster Name:** `cloud-devops-eks`
- **Region:** `us-east-1`
- **Managed Nodegroup:** `standard-workers`
- **Instance Type:** `t3.micro` (Free Tier compatible)

**Create the Cluster:**
```bash
eksctl create cluster \
  --name cloud-devops-eks \
  --region us-east-1 \
  --nodegroup-name standard-workers \
  --node-type t3.micro \
  --nodes 2 \
  --nodes-min 1 \
  --nodes-max 3 \
  --ssh-access \
  --ssh-public-key omar-key \
  --managed
```

### Verify Cluster Setup

**Check Nodes:**
```bash
kubectl get nodes -o wide
```

**Expected Output:**
```
NAME                             STATUS   ROLES    AGE   VERSION
ip-192-168-x-x.ec2.internal     Ready    <none>   5m    v1.28.x
ip-192-168-x-x.ec2.internal     Ready    <none>   5m    v1.28.x
```

### Kubeconfig Setup

The kubeconfig file is automatically updated when you create an EKS cluster using `eksctl`.

**Update Kubeconfig Manually (if needed):**
```bash
aws eks update-kubeconfig --region us-east-1 --name cloud-devops-eks
```

**Verify Cluster Access:**
```bash
kubectl config current-context
```

**Expected Output:**
```
omar@cloud-devops-eks.us-east-1.eksctl.io
```

**View Complete Kubeconfig:**
```bash
kubectl config view
```

---

## 4. Kubernetes Namespace, Deployment & Service

### Create Namespace

**Namespace Name:** `ivolve`

**Create the Namespace:**
```bash
kubectl create namespace ivolve
```

**Verify Namespace Creation:**
```bash
kubectl get namespaces
```

**Expected Output:**
```
NAME              STATUS   AGE
default           Active   10m
ivolve            Active   5s
kube-node-lease   Active   10m
kube-public       Active   10m
kube-system       Active   10m
```

### Deployment

**Deployment Configuration:**
- **Deployment Name:** `app-deployment`
- **Namespace:** `ivolve`
- **Docker Image:** `omarghalyy/cloud-devops-app:latest`
- **Replicas:** 2
- **Container Port:** 80

Create a file named `app-deployment.yaml`:

```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: app-deployment
  namespace: ivolve
spec:
  replicas: 2
  selector:
    matchLabels:
      app: app
  template:
    metadata:
      labels:
        app: app
    spec:
      containers:
      - name: app
        image: omarghalyy/cloud-devops-app:latest
        ports:
        - containerPort: 80
```

**Apply Deployment:**
```bash
kubectl apply -f app-deployment.yaml -n ivolve
```

**Verify Deployment:**
```bash
# Check deployment status
kubectl get deployments -n ivolve

# Check pods
kubectl get pods -n ivolve

# View detailed deployment info
kubectl describe deployment app-deployment -n ivolve
```

**Expected Output:**
```
NAME             READY   UP-TO-DATE   AVAILABLE   AGE
app-deployment   2/2     2            2           30s

NAME                              READY   STATUS    RESTARTS   AGE
app-deployment-xxxxxxxxxx-xxxxx   1/1     Running   0          30s
app-deployment-xxxxxxxxxx-xxxxx   1/1     Running   0          30s
```

### Service

**Service Configuration:**
- **Service Name:** `app-service`
- **Namespace:** `ivolve`
- **Type:** LoadBalancer (creates External IP on AWS)
- **Port:** 80
- **Target Port:** 80

Create a file named `app-service.yaml`:

```yaml
apiVersion: v1
kind: Service
metadata:
  name: app-service
  namespace: ivolve
spec:
  selector:
    app: app
  ports:
    - protocol: TCP
      port: 80
      targetPort: 80
  type: LoadBalancer
```

**Apply Service:**
```bash
kubectl apply -f app-service.yaml -n ivolve
```

**Get Service Details:**
```bash
# Get service info
kubectl get svc app-service -n ivolve

# Watch service until external IP is assigned (may take 2-3 minutes)
kubectl get svc app-service -n ivolve --watch

# Get detailed service information
kubectl describe svc app-service -n ivolve
```

**Expected Output:**
```
NAME          TYPE           CLUSTER-IP      EXTERNAL-IP                                                               PORT(S)        AGE
app-service   LoadBalancer   10.100.xxx.xxx  a67fe6a1990c54b599460ebfdab8d184-817628781.us-east-1.elb.amazonaws.com   80:xxxxx/TCP   2m
```

### Verify All Resources

**Check All Resources in the Namespace:**
```bash
kubectl get all -n ivolve
```

**Expected Output:**
```
NAME                                  READY   STATUS    RESTARTS   AGE
pod/app-deployment-xxxxxxxxxx-xxxxx   1/1     Running   0          5m
pod/app-deployment-xxxxxxxxxx-xxxxx   1/1     Running   0          5m

NAME                  TYPE           CLUSTER-IP      EXTERNAL-IP                                                               PORT(S)        AGE
service/app-service   LoadBalancer   10.100.xxx.xxx  a67fe6a1990c54b599460ebfdab8d184-817628781.us-east-1.elb.amazonaws.com   80:xxxxx/TCP   5m

NAME                             READY   UP-TO-DATE   AVAILABLE   AGE
deployment.apps/app-deployment   2/2     2            2           5m

NAME                                        DESIRED   CURRENT   READY   AGE
replicaset.apps/app-deployment-xxxxxxxxxx   2         2         2       5m
```

**Additional Verification Commands:**
```bash
# Check pod logs
kubectl logs -f deployment/app-deployment -n ivolve

# Check pod details
kubectl describe pod <pod-name> -n ivolve

# Get external IP/hostname
kubectl get svc app-service -n ivolve -o jsonpath='{.status.loadBalancer.ingress[0].hostname}'
```

---

## üåê Access the Application

Once the LoadBalancer service is created, AWS will provision an Elastic Load Balancer and assign an external DNS name.

**Get the External URL:**
```bash
kubectl get svc app-service -n ivolve -o jsonpath='{.status.loadBalancer.ingress[0].hostname}'
```

**Example URL:**
```
http://a67fe6a1990c54b599460ebfdab8d184-817628781.us-east-1.elb.amazonaws.com
```

Access this URL in your browser to view the deployed application.

---

## üõ†Ô∏è Technologies Used

- **Containerization:** Docker
- **Container Orchestration:** Kubernetes (EKS)
- **Cloud Provider:** AWS
- **Infrastructure as Code:** Terraform (Coming Soon)
- **Configuration Management:** Ansible (Coming Soon)
- **CI/CD:** Jenkins, ArgoCD (Coming Soon)

---

## üìÅ Project Structure

```
Cloud-DevOps-Project/
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ k8s/
‚îÇ   ‚îú‚îÄ‚îÄ app-deployment.yaml
‚îÇ   ‚îî‚îÄ‚îÄ app-service.yaml
‚îú‚îÄ‚îÄ terraform/          # (Coming Soon)
‚îú‚îÄ‚îÄ ansible/            # (Coming Soon)
‚îî‚îÄ‚îÄ jenkins/            # (Coming Soon)
```

---

## üöÄ Next Steps

- [ ] Implement Infrastructure as Code with Terraform
- [ ] Configure servers using Ansible
- [ ] Set up Jenkins CI/CD pipeline
- [ ] Implement GitOps with ArgoCD
- [ ] Add monitoring and logging (Prometheus, Grafana)
- [ ] Implement security scanning

---

## ü§ù Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

---

## üìù License

This project is licensed under the MIT License.

---

## üë§ Author

**Omar Ghaly**
- GitHub: [@omar-ghaly](https://github.com/omar-ghaly)

---

## üôè Acknowledgments

- Original application source: [Ibrahim-Adel15/FinalProject](https://github.com/Ibrahim-Adel15/FinalProject)
- AWS EKS Documentation
- Kubernetes Documentation

---

**‚≠ê If you find this project helpful, please consider giving it a star!**
